<template>
    <div class="turn-box" id="turn-box">
      <div class="turn-box-div">
          <div v-html="text" id="text" style="padding:30px 20px;"></div>
      </div>
      <div v-if="num.length>0" v-for="(item ,index) in num" :style="{ padding:'30px 20px',left:(index+1)*(-width)}" class="turn-box-div">
        <div v-html="text" ></div>
      </div>
    </div>
</template>

<script>
  const text=`“咩——咩——咩——”一声声学羊叫的声音在寂静的山岭之中回荡着。↵李七夜爬上了山岗，夜风又急又冷，但是，此时他焦急得一身是汗。十三岁的他，手脚并用地爬上山峦，夜色显得特别的孤怜，让人毛骨悚然。↵虽然夜色显得可怕，但是，李七夜心里面却心急若焚。↵李七夜，他出身于佃农人家，父母皆是贫苦之人，他七岁开始给人放羊。↵李七夜，他家里姓李，因为出生时他哭了七天七夜，被取名为李七夜。↵今天，李七夜如平常时一样放羊，但是，傍晚赶羊回去的时候，发现少了一头羊，这可把他急坏了，他急忙回到山岗寻找，但是，他翻遍了整个山岗，都没有找到这头羊。↵想到张大户地主的凶狠，丢了一头羊，李七夜心急如焚，惶惶不安。↵现在整个山岗都找遍了，都没有那头羊的影子，在这个时候，李七夜想到了一个地方，只有一个地方没有去寻找——仙魔洞！↵抬头一望前面山谷的夜色，宛如是一头洪荒凶兽一样，张开大嘴随时都择人而噬，耳边隐隐听到狼哭鬼叫的声音，远眺仙魔洞迷离的夜色，李七夜不由打了一个寒颤。↵仙魔洞，在当地出了凶名的地方，传说里面住着一只恶魔，任何人进去，都会被吃掉，进去之后，从来没有人能活着出来。↵但是，此时，张大户那啪啪响的皮鞭声却在李七夜耳边回荡，丢了一头羊，张大户一定会把他抽得皮绽肉烂！↵想到这里，李七夜不由一咬牙，往前面如凶兽巨嘴一般的仙魔洞走去，眨眼之间，他的身影消失在夜色之中。↵“啊——”在凄色的夜晚，仙魔洞中响起一声惨叫，李七夜惊骇的声音响起：“你，你，你要干什么——啊——”接着，惨叫声嘎然而止。↵“好，好，好，本座永生不死的阴鸦终于炼成，只缺魂魄，今日正好借你魂魄一用！”也不知道多久，仙魔洞响起了一个幽深阴沉的声音。↵“啪——啪——啪——”没有一会儿，一阵急促的拍翅声音响起，一只乌鸦一般的怪鸟飞出了仙魔洞。↵“飞吧，飞吧，本座要借你的魂魄记住葬地，飞越遗土，只要九界还在，本座一定要找到！”仙魔洞中，幽深阴沉的声音回荡着。↵从此之后，天地之间，有着一只阴鸦遨翔，入葬地，进仙城，跨凶域……身不由己，飞越九界，经万般磨难，千百万年而不死！↵时光流逝，时代变迁，一个一个无敌的人物崛起，一位又一位巨头陨落。↵慢慢地，不知道从什么时候·开始，一时神秘的乌鸦开始出现，一只摆脱了禁锢的神秘乌鸦，开始寻找能主宰自己命运的道路。↵从药神，到飞仙帝，再到血玺仙帝，再到明仁仙帝，又到吞日仙帝，再到冰羽仙帝……最后到黑龙王。↵这一个一个无敌的巨头背后，都隐隐有一只乌鸦的影子，一只寻找主宰自己命运的乌鸦的影子。↵一代代无敌巨头崛起，又一代代神明殒落远去，但是，跨越千万年之久，那只乌鸦，依然隐隐出现在时间长河之中。↵一只不甘命运被左右的乌鸦，对抗着天地最可怕的存在，左右着千万年中的一个又一个大时代的变迁！`
  // import $ from 'jquery';
  import 'assets/js/turn.min';
    export default {
        name: "turn",
      data(){
        return {
          text:text,
          num:[],
          width:0
        }
      },
      mounted(){
        $('#turn-box').turn({
          width: $('#turn-box').width(),
          height: $('#turn-box').height(),
          autoCenter: false,
          display: 'single',
          gradients: true,
          // ... plus any extra option you need
        });
        // console.log($('#turn-box div').height());
        // console.log(Math.floor($('#text').height()/$(document).height()));
        // this.num=new Array(Math.floor($('#text').height()/$(document).height()));


      },
      created(){

        // this.text="<div>"+this.text+"<div/>";
        this.text=this.text.replace(/↵/g,`<div/><div>`);
        let node=$("div");
        node.html(this.text)
        node.css({columns:300,columnGap:30,fontSize:20,lineHeight:"30px",padding: "30px 20px"})
        $('#turn-box').append(node)
        console.log(window.innerHeight);
        let lenth=Math.floor(node.height()/window.innerHeight);
        if(lenth>1){
          lenth-=1;
        }
        this.num=new Array(lenth);
        node.css("display","none")
        console.log( this.num.length);
        // $('#turn-box').remove(node)
        console.log(node.height());
        this.width=window.innerWidth;

      },
      methods:{
          init(){

          }
      }
    }
</script>

<style scoped lang="stylus">
.turn-box
  width  100vw
  height  100vh
  font-size 16px
  line-height 20px
  position relative
  .turn-box-div
    display inline
    columns 300px
    column-gap 30px
    background red
    font-size 20px
    line-height 30px
    text-indent 25px





</style>
